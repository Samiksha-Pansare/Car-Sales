<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CarSales</title>
    <link href="../static/css/model.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link href="../static/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  </head>
  <body>

      <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container">
        <a class="navbar-brand" href="#">Car Sales</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">About</a>
            </li>
          </ul>
          
        </div>
      </div>
    </nav>
    <!-- End NavBar -->
      <div class="body-container container">
        <div class="d-flex justify-content-center">
          <div class="row">
            <div class="col-md-4">
              <!-- Sales Card -->
            <div class="">
              <div class="card info-card sales-card">
                <div class="card-body">
                  <h5 class="card-title">Sales <span>| This Year</span></h5>

                  <div class="d-flex align-items-center">
                    <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                      <i class="bi bi-cart"></i>
                    </div>
                    <div class="ps-3">
                      <h6>145</h6>
                      <span class="text-success small pt-1 fw-bold">12%</span> <span class="text-muted small pt-2 ps-1">increase</span>

                    </div>
                  </div>
                </div>

              </div>
            </div><!-- End Sales Card -->

            
            </div>
            <div class="col-md-4">
              <!-- Revenue Card -->
            <div class="">
              <div class="card info-card revenue-card">
                <div class="card-body">
                  <h5 class="card-title">Regions <span>| This Year</span></h5>

                  <div class="d-flex align-items-center">
                    <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                      <i class="bi bi-currency-dollar"></i>
                    </div>
                    <div class="ps-3">
                      <h6>4</h6>
                      <span class="text-success small pt-1 fw-bold">8%</span> <span class="text-muted small pt-2 ps-1">increase</span>

                    </div>
                  </div>
                </div>

              </div>
            </div><!-- End Revenue Card -->
            </div>
            <div class="col-md-4">
              <!-- Customers Card -->
            <div class="">

              <div class="card info-card customers-card">

              

                <div class="card-body">
                  <h5 class="card-title">Customers <span>| This Year</span></h5>

                  <div class="d-flex align-items-center">
                    <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                      <i class="bi bi-people"></i>
                    </div>
                    <div class="ps-3">
                      <h6>1244</h6>
                      <span class="text-danger small pt-1 fw-bold">12%</span> <span class="text-muted small pt-2 ps-1">decrease</span>

                    </div>
                  </div>

                </div>
              </div>

            </div><!-- End Customers Card -->
            </div>           

          </div>
        </div>
        <!-- Second Section -->
        <div class="row second-section">
          <!-- Graph -->
          <div class="col-md-8">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Last Year Sales</h5>
  
                <!-- Line Chart -->
                <canvas id="lineChart" style="max-height: 400px;"></canvas>
                <!-- End Line CHart -->
  
              </div>
            </div>
            <div class="card ny-card">
              <div class="card-body">
                <h5 class="card-title">Next Year Predicted Sales</h5>
  
                <!-- Line Chart -->
                <canvas id="nyChart" style="max-height: 400px;"></canvas>
                <!-- End Line CHart -->
  
              </div>
            </div>
            <div class="card ny-card">
              <div class="card-body">
                <h5 class="card-title">Color wise Sales Last Year</h5>
  
                <!-- Pie Chart -->
                <canvas id="pieChart" style="max-height: 400px;"></canvas>
                
                <!-- End Pie CHart -->
  
              </div>
            </div>
            <div class="card ny-card">
              <div class="card-body">
                <h5 class="card-title">Color wise Sales this Year</h5>
  
                <!-- Doughnut Chart -->
                <canvas id="doughnutChart" style="max-height: 400px;"></canvas>
                <!-- End Doughnut CHart -->
  
              </div>
            </div>

          </div>
          <!-- News -->
          <div class="col-md-4">
            <!-- News & Updates Traffic -->
          <div class="card">
            <div class="card-body pb-0">
              <h5 class="card-title">News &amp; Updates <span>| Today</span></h5>

              <div class="news">
                <div class="post-item clearfix">
                  <img src="../static/img/news-1.jpg" alt="">
                  <h4><a href="#">Nihil blanditiis at in nihil autem</a></h4>
                  <p>Sit recusandae non aspernatur laboriosam. Quia enim eligendi sed ut harum...</p>
                </div>

                <div class="post-item clearfix">
                  <img src="../static/img/news-2.jpg" alt="">
                  <h4><a href="#">Quidem autem et impedit</a></h4>
                  <p>Illo nemo neque maiores vitae officiis cum eum turos elan dries werona nande...</p>
                </div>

                <div class="post-item clearfix">
                  <img src="../static/img/news-3.jpg" alt="">
                  <h4><a href="#">Id quia et et ut maxime similique occaecati ut</a></h4>
                  <p>Fugiat voluptas vero eaque accusantium eos. Consequuntur sed ipsam et totam...</p>
                </div>

                <div class="post-item clearfix">
                  <img src="../static/img/news-4.jpg" alt="">
                  <h4><a href="#">Laborum corporis quo dara net para</a></h4>
                  <p>Qui enim quia optio. Eligendi aut asperiores enim repellendusvel rerum cuder...</p>
                </div>

                <div class="post-item clearfix">
                  <img src="../static/img/news-5.jpg" alt="">
                  <h4><a href="#">Et dolores corrupti quae illo quod dolor</a></h4>
                  <p>Odit ut eveniet modi reiciendis. Atque cupiditate libero beatae dignissimos eius...</p>
                </div>

              </div><!-- End sidebar recent posts-->

            </div>
          </div><!-- End News & Updates -->
          </div>
        </div>
      </div>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
      <!-- <script src="../static/js/model.js"></script> -->
      <script>
        document.addEventListener("DOMContentLoaded", () => {
        var sales_2021 = JSON.parse("{{sales_2021|safe}}".replaceAll("'", '"'));
        var sales_2022 = JSON.parse("{{sales_2022|safe}}".replaceAll("'", '"'));
        
        var months = Object.keys(sales_2021); // xArray needs to have Python Dictionary's keys
        var sales_val_2021 = Object.values(sales_2021) // yArray needs to have Python Dictionary's values
        var sales_val_2022 = Object.values(sales_2022)
        console.log("Heyy")
        console.log("Xarray: ",months)
        console.log("yarray: ",sales_val_2021)
        new Chart(document.querySelector('#lineChart'), {
          type: 'line',
          data: {
            labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July','August','September','October','November','December'],
            datasets: [{
              label: 'Line Chart',
              data: sales_val_2021,
              fill: false,
              borderColor: 'rgb(75, 192, 192)',
              tension: 0.1
            }]
          },
          options: {
            scales: {
              y: {
                beginAtZero: true
              }
            }
          }
        });
        new Chart(document.querySelector('#nyChart'), {
            type: 'line',
            data: {
              labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October','November', 'December'],
              datasets: [{
                label: 'Line Chart',
                data: sales_2022,
                fill: false,
                borderColor: 'rgb(75, 192, 192)',
                tension: 0.1
              }]
            },
            options: {
              scales: {
                y: {
                  beginAtZero: true
                }
              }
            }
          });
          new Chart(document.querySelector('#pieChart'), {
            type: 'pie',
            data: {
              labels: [
                'White',
                'Black',
                'Grey'
              ],
              datasets: [{
                label: 'My First Dataset',
                data: [300, 50, 100],
                backgroundColor: [
                  'rgb(255, 99, 132)',
                  'rgb(54, 162, 235)',
                  'rgb(255, 205, 86)'
                ],
                hoverOffset: 4
              }]
            }
          });
          new Chart(document.querySelector('#doughnutChart'), {
            type: 'doughnut',
            data: {
              labels: [
                'White',
                'Black',
                'Grey'
              ],
              datasets: [{
                label: 'My First Dataset',
                data: [300, 50, 100],
                backgroundColor: [
                  'rgb(255, 99, 132)',
                  'rgb(54, 162, 235)',
                  'rgb(255, 205, 86)'
                ],
                hoverOffset: 4
              }]
            }
          });
      });
      </script>
    </body>
</html>